document.addEventListener('DOMContentLoaded', () => {
    const visor = document.querySelector('.visor');
    const botoes = document.querySelector('.botoes');

    botoes.addEventListener('click', (event) => {
        const target = event.target;
        if (target.tagName === 'BUTTON') {
            const valor = target.textContent;

            if (valor === 'AC') {
                visor.value = '';
            } else if (valor === '=') {
                try {
                    // Substitui os símbolos de multiplicação e divisão
                    const expressao = visor.value.replace(/x/g, '*').replace(/÷/g, '/');

                    // Usa uma função para calcular a expressão de forma segura
                    const resultado = Function(`'use strict'; return (${expressao})`)();
                    
                    visor.value = resultado;
                } catch {
                    visor.value = 'Erro';
                }
            } else {
                visor.value += valor;
            }
        }
    });
});
